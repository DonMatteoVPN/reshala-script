#!/bin/bash
# ============================================================ #
# ==        REMNAWAVE: –¶–ï–ù–¢–† –£–°–¢–ê–ù–û–í–ö–ò –ò –£–ü–†–ê–í–õ–ï–ù–ò–Ø         == #
# ============================================================ #
# –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –≤—Å–µ—Ö –ø–æ–¥–º–µ–Ω—é Remnawave –≤–Ω—É—Ç—Ä–∏ –†–µ—à–∞–ª—ã.
# –ó–¥–µ—Å—å —Ç–æ–ª—å–∫–æ –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ –º–µ–Ω—é –∏ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –¥—Ä—É–≥–∏–µ –º–æ–¥—É–ª–∏
# remnawave_*.sh.

[[ "${BASH_SOURCE[0]}" == "${0}" ]] && exit 1 # –∑–∞—â–∏—Ç–∞ –æ—Ç –ø—Ä—è–º–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

show_remnawave_centre_menu() {
    enable_graceful_ctrlc
    while true; do
        clear
        menu_header "REMNAWAVE: –£–°–¢–ê–ù–û–í–ö–ê –ò –£–ü–†–ê–í–õ–ï–ù–ò–ï"
        echo
        echo "   1) –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ Remnawave"
        echo "   2) –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞–Ω–µ–ª—å/–Ω–æ–¥—É"
        echo "   3) –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–Ω–µ–ª—å—é/–Ω–æ–¥–æ–π"
        echo "   4) –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–ª—É—á–∞–π–Ω—ã–π —à–∞–±–ª–æ–Ω –¥–ª—è selfsteal-–Ω–æ–¥—ã"
        echo "   5) –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏ –æ—Ç legiz"
        echo "   6) –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏ Remnawave"
        echo
        echo "   [b] üîô –ù–∞–∑–∞–¥"
        echo "------------------------------------------------------"

        local choice
        choice=$(safe_read "–¢–≤–æ–π –≤—ã–±–æ—Ä: " "") || break

        case "$choice" in
            1)
                # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–ø–∞–Ω–µ–ª—å+–Ω–æ–¥–∞/–ø–∞–Ω–µ–ª—å/–Ω–æ–¥–∞/–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–¥—ã)
                run_module remnawave_install show_remnawave_install_menu
                ;;
            2)
                # –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–Ω–µ–ª—å/–Ω–æ–¥–∞ (–ø–∞–Ω–µ–ª—å+–Ω–æ–¥–∞/–ø–∞–Ω–µ–ª—å/–Ω–æ–¥–∞)
                run_module remnawave_reinstall show_remnawave_reinstall_menu
                ;;
            3)
                # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–π –ø–∞–Ω–µ–ª—å—é –∏ –Ω–æ–¥–∞–º–∏
                run_module remnawave_manage show_remnawave_manage_menu
                ;;
            4)
                # –®–∞–±–ª–æ–Ω—ã –º–∞—Å–∫–∏—Ä–æ–≤–∫–∏ –¥–ª—è selfsteal-–Ω–æ–¥—ã
                run_module remnawave_templates show_remnawave_templates_menu
                ;;
            5)
                # –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏ –æ—Ç legiz
                run_module remnawave_legiz show_remnawave_legiz_menu
                ;;
            6)
                # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏ Remnawave (–ø–∞–Ω–µ–ª—å/–Ω–æ–¥—ã)
                run_module remnawave_certs show_remnawave_certs_menu
                ;;
            [bB])
                break
                ;;
            *)
                err "–ù–µ—Ç —Ç–∞–∫–æ–≥–æ –ø—É–Ω–∫—Ç–∞, —Å–º–æ—Ç—Ä–∏ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–µ–µ, –±–æ—Å—Å."
                ;;
        esac
    done
    disable_graceful_ctrlc
}
